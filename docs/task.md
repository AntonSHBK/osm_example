## 📌 **Цель проекта**

Создать микросервис на FastAPI, который:
- Принимает адрес и возвращает координаты (геокодирование)
- Позволяет искать объекты по категориям (школы, парки и т.п.)
- Строит маршрут между двумя точками (авто/пешком)
- Отображает результат на интерактивной карте

> **Без токенов**, использует открытые API: OSM, Nominatim, Overpass, OSRM  
> Подходит для локальной или тестовой аналитики, можно развернуть на сервере.

---

## ✅ **Конечный результат**

- API-сервис с 3 основными эндпоинтами:
  - `/geocode?q=...` — возвращает координаты
  - `/search?bbox=...&tag=...` — ищет объекты в области
  - `/route?from=...&to=...` — возвращает маршрут

- Интерактивная визуализация:
  - Веб-интерфейс с **картой Folium**
  - Возможность **скачать GeoJSON** с результатами
  - Все данные отображаются на карте (точки, маршруты)

---

## 📁 **Структура проекта**

```
osm-service/
├── app/
│   ├── main.py                ← FastAPI точка входа
│   ├── routers/
│   │   ├── geocode.py         ← Геокодирование
│   │   ├── search.py          ← Поиск объектов
│   │   └── route.py           ← Построение маршрутов
│   ├── services/
│   │   ├── nominatim_client.py
│   │   ├── overpass_client.py
│   │   ├── osrm_client.py
│   │   └── map_renderer.py    ← Генерация HTML карт (Folium)
│   ├── models/
│   │   └── request_models.py
│   └── utils/
│       └── geo.py             ← Преобразования, фильтры
├── data/                      ← Кеш или сохранённые GeoJSON
├── templates/                 ← HTML-шаблоны (если будет фронт)
├── static/                    ← Карты, ресурсы
├── notebooks/                 ← Тесты и примеры работы
├── requirements.txt
└── README.md
```

---

## 🛠 **Используемые инструменты**

### Backend:
- **FastAPI** — основной API-сервер
- **httpx / requests** — HTTP-запросы к OSM/Nominatim/OSRM
- **pydantic** — валидация данных
- **Jinja2** — для HTML-страниц с картой (если будет фронт)

### Гео-инфраструктура:
- **Nominatim API** — геокодирование
- **Overpass API** — поиск объектов
- **OSRM API** — маршруты
- **Folium** — генерация HTML-карт

### Визуализация:
- **Folium** — интерактивные карты (на основе Leaflet.js)
- (опционально) **pydeck** или **Kepler.gl** для продвинутой визуализации

---

## 🔄 Возможные запросы

| Эндпоинт        | Метод | Описание                           |
|----------------|--------|------------------------------------|
| `/geocode`     | GET    | Получение координат по адресу     |
| `/search`      | GET    | Поиск объектов по тегу и bbox     |
| `/route`       | GET    | Построение маршрута               |
| `/map`         | GET    | HTML-страница с результатом       |
